CodeFoxInc

medium

# Should rescue NFT and ERC20 tokens

## Summary
When contracts accidentally receive NFT or ERC20 tokens, they should be rescued. 

There is no such mechanism in the protocol to rescue tokens when someone sends the token randomly to the smart contracts address of the protocol. And such mechanism should be implemented to save or avoid the loss of the assets in this situation. 

## Vulnerability Detail
Although rarely people do such things, but in history this kind of thing happened quite a lot. 

### ERC20 token
There is no such mechanism in the protocol at the moment. And the claimBounty function makes winner claim all of the erc20 token including those tokens may be sent to the protocol accidentally in the future. 

### NFT token
NFT tokens can be accidentally sent to the protocol and because there is no such mechanism to rescue them, they can be lost forever. 


## Impact

It can cause loss of the assets(NFTs and ERC20 tokens) from the users. 
Although the probability is quite low, someone can `selfdestruct(_protocolAddress)` and send native token to the protocol address to make the problem worse than just ERC20 tokens and NFTs. 

## Code Snippet
The recommendation can be implemented in the BountyCore contract. 
https://github.com/sherlock-audit/2023-02-openq/blob/main/contracts/Bounty/Implementations/BountyCore.sol#L10


## Tool used

Manual Review

## Recommendation
Consider implementing a mechanism of rescuing the ERC20 token and NFT token which are accidentally sent to the protocol. 
In order to be able to rescue the token and at the same time avoid involving with the funding and claiming process, we can add a timelock to avoid the interference from the protocol owner. The timelock can be e.g., certain period of time after the closing of the bounty. The timelock can protect the decentralization degree of the protocol. 


- For ERC20 tokens, [JPYCv2](https://github.com/jcam1/JPYCv2/blob/main/contracts/v1/Rescuable.sol) has a very good example of implementing the mechanism. 
- For NFT tokens, we can implement a onlyOwner transfer interface for rescue the NFTs similar to the JPYCv2 example above. 
- In term of native tokens, it is similar to ERC20 token's solution if you want to implement the solution to this. 

Implementing this should also be cautious and well thought out. It depends on the protocol team to decide how they want to implement the solution or choose not to implement it. 